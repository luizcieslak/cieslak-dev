---
title: Understanding Safari - Browser Limitations and How to Overcome Them
excerpt: Safari is the new Internet Explorer and therefore requires special treatment in web development.
publishDate: '2025-01-02'
seo:
  image:
    src: '/ie-apple.png'
    alt: A meme comparing the Internet Explorer with Safari by using the 'how it started' versus 'how is it going' texts.
---

![A meme comparing the Internet Explorer with Safari by using the 'how it started' versus 'how is it going' texts](/ie-apple.png)

There is nothing under the sun when we say Safari is the new Internet Explorer. This comparison is made as Safari represents a [important share of the market size](https://gs.statcounter.com/browser-market-share) while having a subpar experience compared to its competitors, similar to what happened with Internet Explorer in the 2010s.

While I don't think every browser should be a [fork of Chromium](https://support.microsoft.com/topic/microsoft-edge-chromium-1ce9507c-f09d-4de6-a706-eb52f46be90c) and that WebKit and Gecko engines contributes to a heterogenous ecosystem, I believe the type of browser should be at least something the we must have [freedom to choose.](https://www-theverge-com.translate.goog/2024/1/25/24050478/apple-ios-17-4-browser-engines-eu)

It is also important to mention and recognize the work the partners at [Igalia](https://mariospr.org/2024/11/03/igalia-and-webkit-status-update-and-plans-2024/) do to improve the WebKit engine.

I really hope this article gets outdated soon.

## Limitations

### Vendor lock-in

You can't troubleshoot Safari specific problems if you don't have a MacBook. Simple as that. There is no way to install Safari on a Windows or Linux machine. For those, you need to use either [WebKitGTK](https://webkitgtk.org/) or work around it using the [Playwright CLI](https://dev.to/dustinbrett/running-the-latest-safari-webkit-on-windows-33pb).

Now for Safari iOS, besides the MacBook you will need also an iPhone device if you want to troubleshoot and access the Developer Tools. Otherwise, you will need to rely into 3rd party tools like [BrowserStack](https://www.browserstack.com/) to test your website in that browser.

### Multiple Audio Streams

If you need to play more than one audio stream simultaneously, it doesn't work by default on Safari. In order to do that, you would need to control the `muted` attribute of both, starting them with a truthy value and then toggling it whenever you want to play or pause a stream. In the example below, it works but you can notice the workaround in the JS code.

<iframe src="https://stackblitz.com/edit/sb1-nbm4wvqn?embed=1&file=main.js&hideExplorer=1" width="100%" height="500"></iframe>

Worth also to mention this other solution by Matt Harrison that uses [Web Audio API](https://matt-harrison.com/posts/web-audio/).

### Network Information API

_Note: It does not work on Firefox either._

This API acessible from [navigator.connection](https://caniuse.com/?search=navigator.connection) provide useful information about the current connection from the user perspective and can be used to deliver a tailored user experience or optimize SEO meterics. For exampple, you can check if they are connected to your website using a slow connection and therefore serve a lower quality image.

<iframe src="https://stackblitz.com/edit/sb1-grz58h1p?embed=1&file=index.html&hideExplorer=1" width="100%" height="500"></iframe>

### URLPattern matching API

_Note: It does not work on Firefox either._

This API is intended to work like Node Express Router does like in:

```js
app.get('/users/:userId/books/:bookId', (req, res) => {
	res.send(req.params) // expect userId and bookId to be defined
})
```

with the goal to match specific patterns in the URL. This would save a lot of shady code that needs to execute `url.split('/')[x]` to get the value of a specific slice of the URL you are looking for.

<iframe src="https://stackblitz.com/edit/sb1-8pwm2ekj?file=index.html&hideExplorer=1" width="100%" height="500"></iframe>

<!-- Originally reported by
https://x.com/kennethrohde/status/1861860350850728137?t=wdKtlDRTUfpWAVLU9u7X1A -->

### Images being downloaded multiple times

_Note: Most of frameworks already handle this, like [Next.js](https://github.com/vercel/next.js/pull/22902) caught in 2021._

There is a bug in Safari in image tag definition using the combination of `srcset` and `sizes`, if the sizes attribute appears _after_ srcset. It would download them all and disregard the sizes attribute altogether.

<iframe src="https://stackblitz.com/edit/sb1-kbasvvhy?file=index.html&hideExplorer=1" width="100%" height="500"></iframe>

<!-- Originally reported by
https://x.com/OliverJAsh/status/1812408504444989588?t=2nYDSmWCbSZmXsHxaD4ULw -->

### CSS Filters

Any element using a [CSS filter](https://developer.mozilla.org/en-US/docs/Web/CSS/filter) would not render in safari unless you add a `translate3d(0, 0, 0.01)` along with the filter you want to apply.

<iframe src="https://stackblitz.com/edit/sb1-avyznxai?file=index.html&hideExplorer=1" width="100%" height="500"></iframe>

<!-- Originally reported by
https://x.com/Rich_Harris/status/1848771715603525834?t=I-c0JX506Y7p-rGRIeQqkw -->

### CSS Anchor positioning

_Note: It does not work on Firefox either._

[This](https://caniuse.com/css-anchor-positioning) CSS feature enables us to declaratively position elements relatively to others using the [anchor()](https://developer.mozilla.org/en-US/docs/Web/CSS/anchor) function.

<iframe src="https://stackblitz.com/edit/sb1-1uaqivxx?file=src%2Fmain.tsx&hideExplorer=1" width="100%" height="500"></iframe>

### Default OS stylesheet

In all browsers, the operational system has a unique stylesheet for all the elements in the UI. In order to remove the variable differences between them, the recommendation is to use some sort of CSS reset/normalizer like [modern-normalize](https://github.com/sindresorhus/modern-normalize) or [normalize.css](https://github.com/necolas/normalize.css).

Regardless, this can get you off guard if the project you are working doesn't apply or partially apply them.

![Safari iOS default stylesheet for buttons of submit type](/apple/stylesheet-safari.png)

In the example screenshot above, you can see Apple defines an `1em` default vertical padding for form submit button elements, and below Android Chrome defines a `6px` for them.

![Chrome android default stylesheet for buttons of submit type](/apple/stylesheet-chrome.png)

### Slide React components

issues: https://github.com/tajo/react-range/issues/180, https://github.com/mui/material-ui/issues/31869

In Slider components like the MUI above, there is a bug for Safari mobile browser in `onChange` event listener where it fires twice. We literally need to check if is IOS and prevent that manually:

```js
const isIOS = () => {
	// function here that checks the user agent for possible iOS devices
}

const handleChange = (event, newValue) => {
	if (isIOS() && event.type === 'mousedown') {
		return
	}
	// Otherwise handle your change event as normal
}
```

### PWA support

Apple deliberately chose to push back PWA apps for quite some time now: https://open-web-advocacy.org/blog/its-official-apple-kills-web-apps-in-the-eu/
